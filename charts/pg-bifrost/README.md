# pg-bifrost

![Version: 0.1.42](https://img.shields.io/badge/Version-0.1.42-informational?style=flat-square) ![AppVersion: latest](https://img.shields.io/badge/AppVersion-latest-informational?style=flat-square)

Postgres Log Replication Service

## Source Code

* <https://github.com/Nextdoor/k8s-charts.git>

## Requirements

| Repository | Name | Version |
|------------|------|---------|
| https://k8s-charts.nextdoor.com | pg-bifrost(simple-app) | 0.27.5 |
| https://localstack.github.io/helm-charts | localstack(localstack) | 0.6.0 |

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| environment.config.awsRegion | string | `"us-west-1"` |  |
| environment.config.batchFlushMaxAge | string | `"120000"` |  |
| environment.config.batchFlushUpdateAge | string | `"60000"` |  |
| environment.config.batcherMemorySoftLimit | string | `"104857600"` |  |
| environment.config.bifrostS3BatchSize | string | `"1000000"` |  |
| environment.config.bifrostS3Bucket | string | `"test"` |  |
| environment.config.bifrostS3KeySpace | string | `"test"` |  |
| environment.config.createSlot | string | `"1"` |  |
| environment.config.localPostgres.enabled | bool | `false` |  |
| environment.config.localPostgres.pgPassword | string | `""` |  |
| environment.config.localPostgres.pgUser | string | `""` |  |
| environment.config.noMarshalOldValue | string | `"true"` |  |
| environment.config.pgDatabase | string | `"postgres"` |  |
| environment.config.pgHost | string | `"my-postgresql.pg-bifrost.svc.cluster.local"` |  |
| environment.config.pgPort | string | `"5432"` |  |
| environment.config.pgSSL | string | `""` |  |
| environment.config.workers | string | `"1"` |  |
| pg-bifrost.command[0] | string | `"/pg-bifrost"` |  |
| pg-bifrost.command[1] | string | `"r"` |  |
| pg-bifrost.command[2] | string | `"stdout"` |  |
| pg-bifrost.envFrom[0].configMapRef.name | string | `"{{ .Release.Name }}-config"` |  |
| pg-bifrost.image.repository | string | `"364942603424.dkr.ecr.us-west-2.amazonaws.com/nextdoor/pg-bifrost"` | The ECR repository that holds the image. The "repository url" is going to be unique for each EKS cluster you launch this in if they are in different regions - because we don't allow cross-region image pulls. Each of your "values.<cluster name>.yaml" files will have a pointer to the local version of that repo. |
| pg-bifrost.ingress.enabled | bool | `true` |  |
| pg-bifrost.ingress.hosts[0].host | string | `"localhost"` |  |
| pg-bifrost.ingress.hosts[0].path | string | `""` |  |
| pg-bifrost.ingress.hosts[0].sslRedirect | bool | `false` |  |
| pg-bifrost.istio-alerts.enabled | bool | `true` |  |
| pg-bifrost.istio.enabled | bool | `true` |  |
| pg-bifrost.livenessProbe | object | `{"httpGet":{"path":"/liveness","port":"http"}}` | A PodSpec container "livenessProbe" configuration object. Note that this livenessProbe will be applied to the proxySidecar container instead if that is enabled. |
| pg-bifrost.monitor.enabled | bool | `true` |  |
| pg-bifrost.podDisruptionBudget | bool | `false` |  |
| pg-bifrost.ports[0].containerPort | int | `8080` |  |
| pg-bifrost.ports[0].name | string | `"http"` |  |
| pg-bifrost.ports[0].port | int | `80` |  |
| pg-bifrost.ports[0].protocol | string | `"TCP"` |  |
| pg-bifrost.prometheusRules.enabled | bool | `false` |  |
| pg-bifrost.readinessProbe | object | `{"httpGet":{"path":"/readiness","port":"http"}}` | A PodSpec container "readinessProbe" configuration object. Note that this readinessProbe will be applied to the proxySidecar container instead if that is enabled. |
| pg-bifrost.replicaCount | int | `1` |  |
| pg-bifrost.serviceAccount.create | bool | `true` |  |
| pg-bifrost.targetArchitecture | string | `""` |  |
| pg-bifrost.virtualService.enabled | bool | `false` |  |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.5.0](https://github.com/norwoodj/helm-docs/releases/v1.5.0)
